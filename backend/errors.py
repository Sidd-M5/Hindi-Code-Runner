error_translation = {
    "SyntaxError": "à¤¸à¤¿à¤‚à¤Ÿà¥ˆà¤•à¥à¤¸ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤•à¥‹à¤¡ à¤²à¤¿à¤–à¤¾à¤µà¤Ÿ à¤®à¥‡à¤‚ à¤—à¤²à¤¤à¥€ à¤¹à¥ˆà¥¤",
    "NameError": "à¤¨à¤¾à¤® à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤†à¤ªà¤¨à¥‡ à¤à¤¸à¤¾ à¤¨à¤¾à¤® à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤¿à¤¯à¤¾ à¤¹à¥ˆ à¤œà¥‹ à¤ªà¤°à¤¿à¤­à¤¾à¤·à¤¿à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤",
    "IndentationError": "à¤‡à¤‚à¤¡à¥‡à¤‚à¤Ÿà¥‡à¤¶à¤¨ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤•à¥‹à¤¡ à¤¸à¤¹à¥€ à¤¤à¤°à¥€à¤•à¥‡ à¤¸à¥‡ space/tab à¤¸à¥‡ à¤¨à¤¹à¥€à¤‚ à¤²à¤¿à¤–à¤¾ à¤—à¤¯à¤¾à¥¤",
    "TypeError": "à¤Ÿà¤¾à¤‡à¤ª à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤—à¤²à¤¤ à¤ªà¥à¤°à¤•à¤¾à¤° à¤•à¥‡ à¤¡à¥‡à¤Ÿà¤¾ à¤ªà¤° à¤‘à¤ªà¤°à¥‡à¤¶à¤¨ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤",
    "ZeroDivisionError": "à¤¶à¥‚à¤¨à¥à¤¯ à¤­à¤¾à¤— à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤†à¤ª 0 à¤¸à¥‡ à¤­à¤¾à¤— à¤¨à¤¹à¥€à¤‚ à¤•à¤° à¤¸à¤•à¤¤à¥‡à¥¤",
    "ValueError": "à¤®à¤¾à¤¨ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤—à¤²à¤¤ à¤®à¤¾à¤¨ (value) à¤ªà¤¾à¤¸ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤",
    "IndexError": "à¤‡à¤‚à¤¡à¥‡à¤•à¥à¤¸ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤¸à¥‚à¤šà¥€/à¤Ÿà¤ªà¤² à¤®à¥‡à¤‚ à¤—à¤²à¤¤ à¤‡à¤‚à¤¡à¥‡à¤•à¥à¤¸ à¤šà¥à¤¨à¤¾ à¤—à¤¯à¤¾à¥¤",
    "KeyError": "à¤•à¥à¤‚à¤œà¥€ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤¯à¤¹ key à¤¶à¤¬à¥à¤¦à¤•à¥‹à¤¶ à¤®à¥‡à¤‚ à¤®à¥Œà¤œà¥‚à¤¦ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤",
    "AttributeError": "à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤¯à¤¹ attribute à¤®à¥Œà¤œà¥‚à¤¦ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤",
    "ImportError": "à¤†à¤¯à¤¾à¤¤ à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤®à¥‰à¤¡à¥à¤¯à¥‚à¤² à¤†à¤¯à¤¾à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤¸à¤•à¤¾à¥¤",
    "FileNotFoundError": "à¤«à¤¾à¤‡à¤² à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤«à¤¾à¤‡à¤² à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¥€à¥¤",
    "ModuleNotFoundError": "à¤®à¥‰à¤¡à¥à¤¯à¥‚à¤² à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤®à¥‰à¤¡à¥à¤¯à¥‚à¤² à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤"
}

message_translation = {
    "invalid syntax": "à¤…à¤®à¤¾à¤¨à¥à¤¯ à¤¸à¤¿à¤‚à¤Ÿà¥ˆà¤•à¥à¤¸: à¤†à¤ªà¤•à¥‡ à¤•à¥‹à¤¡ à¤•à¥€ à¤¸à¤‚à¤°à¤šà¤¨à¤¾ à¤¸à¤¹à¥€ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤",
    "forgot a comma": "à¤¶à¤¾à¤¯à¤¦ à¤†à¤ªà¤¨à¥‡ à¤…à¤²à¥à¤ªà¤µà¤¿à¤°à¤¾à¤® (,) à¤²à¤—à¤¾à¤¨à¤¾ à¤­à¥‚à¤² à¤—à¤à¥¤",
    "not defined": "à¤¯à¤¹ à¤¨à¤¾à¤® à¤ªà¤°à¤¿à¤­à¤¾à¤·à¤¿à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤ à¤ªà¤¹à¤²à¥‡ à¤‡à¤¸à¥‡ à¤˜à¥‹à¤·à¤¿à¤¤ à¤•à¤°à¥‡à¤‚à¥¤",
    "division by zero": "à¤¶à¥‚à¤¨à¥à¤¯ à¤¸à¥‡ à¤­à¤¾à¤— à¤¨à¤¹à¥€à¤‚ à¤•à¤° à¤¸à¤•à¤¤à¥‡à¥¤",
    "expected an indented block": "à¤¯à¤¹à¤¾à¤ indented block à¤•à¥€ à¤œà¤°à¥‚à¤°à¤¤ à¤¥à¥€à¥¤",
    "unexpected indent": "à¤…à¤ªà¥à¤°à¤¤à¥à¤¯à¤¾à¤¶à¤¿à¤¤ indentation à¤®à¤¿à¤²à¤¾à¥¤",
    "list index out of range": "à¤¸à¥‚à¤šà¥€ à¤•à¤¾ index à¤¸à¥€à¤®à¤¾ à¤¸à¥‡ à¤¬à¤¾à¤¹à¤° à¤¹à¥ˆà¥¤",
    "missing": "à¤•à¥à¤› à¤—à¤¾à¤¯à¤¬ à¤¹à¥ˆ",
    "cannot import": "à¤†à¤¯à¤¾à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤¸à¤•à¤¾",
    "unsupported operand": "à¤¯à¤¹ à¤‘à¤ªà¤°à¥‡à¤¶à¤¨ à¤‡à¤¨ à¤¡à¥‡à¤Ÿà¤¾ à¤Ÿà¤¾à¤‡à¤ªà¥à¤¸ à¤ªà¤° à¤•à¤¾à¤® à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¤¾à¥¤",
    "takes": "à¤«à¤‚à¤•à¥à¤¶à¤¨ à¤•à¥‹ à¤—à¤²à¤¤ à¤¸à¤‚à¤–à¥à¤¯à¤¾ à¤®à¥‡à¤‚ arguments à¤¦à¤¿à¤ à¤—à¤à¥¤",
    "required positional argument": "à¤†à¤µà¤¶à¥à¤¯à¤• argument à¤¨à¤¹à¥€à¤‚ à¤¦à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤"
}


def translate_error_message(error_msg: str) -> str:
    """
    Translate an error message string to Hindi
    """
    print(f"ðŸ” Translating error: {error_msg}")  # Debug log
    
    # Extract type and message
    if ":" in error_msg:
        err_type, err_details = error_msg.split(":", 1)
        err_type = err_type.strip()
        err_details = err_details.strip()
    else:
        err_type = "UnknownError"
        err_details = error_msg.strip()

    # Base translation by type
    base_msg = error_translation.get(err_type, "à¤…à¤œà¥à¤žà¤¾à¤¤ à¤¤à¥à¤°à¥à¤Ÿà¤¿")
    print(f"ðŸ“Œ Error type: {err_type}, Base message: {base_msg}")  # Debug log

    # Check message fragments
    for eng_fragment, hindi_explanation in message_translation.items():
        if eng_fragment.lower() in err_details.lower():
            result = f"{base_msg} ðŸ‘‰ {hindi_explanation}"
            print(f"âœ… Matched fragment '{eng_fragment}', Result: {result}")  # Debug log
            return result

    # Fallback
    result = f"{base_msg} ðŸ‘‰ {err_details}"
    print(f"âš ï¸ No fragment matched, using fallback: {result}")  # Debug log
    return result


def translate_exception(exception: Exception) -> str:
    """
    Translate a Python exception object to Hindi
    """
    return translate_error_message(f"{type(exception).__name__}: {str(exception)}")
